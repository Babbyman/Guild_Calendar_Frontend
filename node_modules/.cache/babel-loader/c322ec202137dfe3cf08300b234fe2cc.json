{"ast":null,"code":"var _jsxFileName = \"/Users/noora/Development/amplifyapp/ReactApp/src/pages/week.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Week = () => {\n  _s();\n\n  const [error, setError] = React.useState(false);\n  const [response, setResponse] = React.useState([]);\n\n  async function fetchData() {\n    try {\n      const guilds = ['AK', 'AS', 'Athene', 'IK', 'Inkubio', 'KIK', 'MK', 'PJK', 'PT', 'TIK', 'TF', 'VK', 'Prodeko', 'FK'];\n      await Promise.all([await fetch(\"/events\", {\n        method: 'POST',\n        body: JSON.stringify({\n          guildNames: guilds,\n          startDateTimeFrame: get10DaysFromNowEvents(),\n          endDateTimeFrame: getNext4MonthsEvents()\n        }),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8'\n        }\n      }).then(res => res.json()).then(data => {\n        console.log(\"array \", array);\n        var dataString = JSON.stringify(data.response);\n        var result = JSON.parse(dataString);\n        var array = [];\n\n        for (let i of result) {\n          array = array.concat(Object.values(i)[0]);\n        }\n\n        console.log(\"array\", array);\n        setResponse(array);\n      })]);\n    } catch (error) {\n      console.log(error);\n      setError(true);\n    }\n  }\n\n  React.useEffect(() => {\n    fetchData();\n  }, []);\n  React.useEffect(() => {}, [response]);\n\n  function getNext4MonthsEvents() {\n    var date = new Date();\n    date.setMonth(date.getMonth() + 4);\n    return date.toISOString();\n  }\n\n  function get10DaysFromNowEvents() {\n    var date = new Date();\n    date.setDate(date.getDate() - 10);\n    return date.toISOString();\n  }\n\n  function setToMonday(date) {\n    var day = date.getDay() || 7;\n    if (day !== 1) date.setHours(-24 * (day - 1));\n    return date;\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Oops.. something went wrong! \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 3\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container2\",\n    children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n      initialView: \"dayGridWeek\",\n      eventMinHeight: 50,\n      firstDay: 1,\n      titl: true,\n      validRange: {\n        start: setToMonday(new Date()),\n        end: getNext4MonthsEvents()\n      } //headerToolbar={false}\n      //dayHeaders={false}\n      ,\n      dayHeaderClassNames: \"weekDay\",\n      events: response,\n      eventColor: \"#CF9FFF\",\n      nowIndicator: true,\n      eventClick: e => console.log(e.event),\n      timeZone: \"Europe/Helsinki\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Week, \"kwBGBUS5QCNLfffIJ8t9G2OX4bY=\");\n\n_c = Week;\nexport default Week;\n\nvar _c;\n\n$RefreshReg$(_c, \"Week\");","map":{"version":3,"names":["React","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","Week","error","setError","useState","response","setResponse","fetchData","guilds","Promise","all","fetch","method","body","JSON","stringify","guildNames","startDateTimeFrame","get10DaysFromNowEvents","endDateTimeFrame","getNext4MonthsEvents","headers","then","res","json","data","console","log","array","dataString","result","parse","i","concat","Object","values","useEffect","date","Date","setMonth","getMonth","toISOString","setDate","getDate","setToMonday","day","getDay","setHours","start","end","e","event"],"sources":["/Users/noora/Development/amplifyapp/ReactApp/src/pages/week.js"],"sourcesContent":["import React from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\n\nconst Week = () => {\n\n  const [error, setError] = React.useState(false);\n  const [response, setResponse] = React.useState([]);\n  async function fetchData() {\n    try {\n      const guilds = ['AK', 'AS', 'Athene', 'IK', 'Inkubio', 'KIK', 'MK', 'PJK', 'PT', 'TIK', 'TF', 'VK', 'Prodeko', 'FK'];\n      await Promise.all([\n       (\n         await fetch(\"/events\", {\n          method: 'POST',\n          body: JSON.stringify({\n            guildNames: guilds,\n            startDateTimeFrame : get10DaysFromNowEvents(),\n            endDateTimeFrame : getNext4MonthsEvents()\n          }),\n          headers: {'Content-type': 'application/json; charset=UTF-8'},\n        }).then((res) => res.json())\n        .then((data) => {\n          console.log(\"array \", array);\n          var dataString = JSON.stringify(data.response);\n          var result = JSON.parse(dataString);\n          var array = [];\n          for (let i  of result) {\n            array = array.concat(Object.values(i)[0]);\n          }\n          console.log(\"array\" , array);     \n          setResponse(array);\n        }))\n     ]);\n   } catch (error) {\n     console.log(error);\n     setError(true);\n   }\n }\n \n React.useEffect(() => {\n   fetchData();\n }, []);\n \n React.useEffect(() => {\n }, [response]);\n\n function getNext4MonthsEvents(){\n  var date = new Date();\n  date.setMonth(date.getMonth() + 4);\n  return date.toISOString();\n}\n\nfunction get10DaysFromNowEvents(){\n    var date = new Date();\n    date.setDate(date.getDate() - 10);\n    return date.toISOString();\n  }\n\nfunction setToMonday( date ) {\n    var day = date.getDay() || 7;  \n    if( day !== 1 ) \n        date.setHours(-24 * (day - 1)); \n    return date;\n}\n\n if(error) {\n  return (\n  <h1> Oops.. something went wrong! </h1>\n  )\n}\n\nreturn (  \n\n  <div className='container2'>\n      \n     <FullCalendar     \n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n        initialView=\"dayGridWeek\"\n        eventMinHeight={50}\n        firstDay={1}\n        titl\n        validRange={{\n        start: setToMonday(new Date()),\n        end: getNext4MonthsEvents()\n        }}\n        //headerToolbar={false}\n        //dayHeaders={false}\n        dayHeaderClassNames={\"weekDay\"}\n        events={response}\n        eventColor=\"#CF9FFF\"\n        nowIndicator={true}\n        eventClick={(e) => console.log(e.event)}\n        timeZone=\"Europe/Helsinki\"\n      />\n    \n    </div>      \n  );\n\n\n\n};\n\n\nexport default Week;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,OAAOC,iBAAP,MAA8B,2BAA9B;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEjB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,KAAK,CAACQ,QAAN,CAAe,KAAf,CAA1B;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAhC;;EACA,eAAeG,SAAf,GAA2B;IACzB,IAAI;MACF,MAAMC,MAAM,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,QAAb,EAAuB,IAAvB,EAA6B,SAA7B,EAAwC,KAAxC,EAA+C,IAA/C,EAAqD,KAArD,EAA4D,IAA5D,EAAkE,KAAlE,EAAyE,IAAzE,EAA+E,IAA/E,EAAqF,SAArF,EAAgG,IAAhG,CAAf;MACA,MAAMC,OAAO,CAACC,GAAR,CAAY,CAEf,MAAMC,KAAK,CAAC,SAAD,EAAY;QACtBC,MAAM,EAAE,MADc;QAEtBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UACnBC,UAAU,EAAER,MADO;UAEnBS,kBAAkB,EAAGC,sBAAsB,EAFxB;UAGnBC,gBAAgB,EAAGC,oBAAoB;QAHpB,CAAf,CAFgB;QAOtBC,OAAO,EAAE;UAAC,gBAAgB;QAAjB;MAPa,CAAZ,CAAL,CAQJC,IARI,CAQEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARV,EASNF,IATM,CASAG,IAAD,IAAU;QACdC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,KAAtB;QACA,IAAIC,UAAU,GAAGf,IAAI,CAACC,SAAL,CAAeU,IAAI,CAACpB,QAApB,CAAjB;QACA,IAAIyB,MAAM,GAAGhB,IAAI,CAACiB,KAAL,CAAWF,UAAX,CAAb;QACA,IAAID,KAAK,GAAG,EAAZ;;QACA,KAAK,IAAII,CAAT,IAAeF,MAAf,EAAuB;UACrBF,KAAK,GAAGA,KAAK,CAACK,MAAN,CAAaC,MAAM,CAACC,MAAP,CAAcH,CAAd,EAAiB,CAAjB,CAAb,CAAR;QACD;;QACDN,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAsBC,KAAtB;QACAtB,WAAW,CAACsB,KAAD,CAAX;MACD,CAnBM,CAFS,CAAZ,CAAN;IAuBF,CAzBA,CAyBC,OAAO1B,KAAP,EAAc;MACdwB,OAAO,CAACC,GAAR,CAAYzB,KAAZ;MACAC,QAAQ,CAAC,IAAD,CAAR;IACD;EACF;;EAEDP,KAAK,CAACwC,SAAN,CAAgB,MAAM;IACpB7B,SAAS;EACV,CAFD,EAEG,EAFH;EAIAX,KAAK,CAACwC,SAAN,CAAgB,MAAM,CACrB,CADD,EACG,CAAC/B,QAAD,CADH;;EAGA,SAASe,oBAAT,GAA+B;IAC9B,IAAIiB,IAAI,GAAG,IAAIC,IAAJ,EAAX;IACAD,IAAI,CAACE,QAAL,CAAcF,IAAI,CAACG,QAAL,KAAkB,CAAhC;IACA,OAAOH,IAAI,CAACI,WAAL,EAAP;EACD;;EAED,SAASvB,sBAAT,GAAiC;IAC7B,IAAImB,IAAI,GAAG,IAAIC,IAAJ,EAAX;IACAD,IAAI,CAACK,OAAL,CAAaL,IAAI,CAACM,OAAL,KAAiB,EAA9B;IACA,OAAON,IAAI,CAACI,WAAL,EAAP;EACD;;EAEH,SAASG,WAAT,CAAsBP,IAAtB,EAA6B;IACzB,IAAIQ,GAAG,GAAGR,IAAI,CAACS,MAAL,MAAiB,CAA3B;IACA,IAAID,GAAG,KAAK,CAAZ,EACIR,IAAI,CAACU,QAAL,CAAc,CAAC,EAAD,IAAOF,GAAG,GAAG,CAAb,CAAd;IACJ,OAAOR,IAAP;EACH;;EAEA,IAAGnC,KAAH,EAAU;IACT,oBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADA;EAGD;;EAED,oBAEE;IAAK,SAAS,EAAC,YAAf;IAAA,uBAEG,QAAC,YAAD;MACG,OAAO,EAAE,CAACJ,aAAD,EAAgBC,cAAhB,EAAgCC,iBAAhC,CADZ;MAEG,WAAW,EAAC,aAFf;MAGG,cAAc,EAAE,EAHnB;MAIG,QAAQ,EAAE,CAJb;MAKG,IAAI,MALP;MAMG,UAAU,EAAE;QACZgD,KAAK,EAAEJ,WAAW,CAAC,IAAIN,IAAJ,EAAD,CADN;QAEZW,GAAG,EAAE7B,oBAAoB;MAFb,CANf,CAUG;MACA;MAXH;MAYG,mBAAmB,EAAE,SAZxB;MAaG,MAAM,EAAEf,QAbX;MAcG,UAAU,EAAC,SAdd;MAeG,YAAY,EAAE,IAfjB;MAgBG,UAAU,EAAG6C,CAAD,IAAOxB,OAAO,CAACC,GAAR,CAAYuB,CAAC,CAACC,KAAd,CAhBtB;MAiBG,QAAQ,EAAC;IAjBZ;MAAA;MAAA;MAAA;IAAA;EAFH;IAAA;IAAA;IAAA;EAAA,QAFF;AA6BC,CAjGD;;GAAMlD,I;;KAAAA,I;AAoGN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}