{"ast":null,"code":"var _jsxFileName = \"/Users/noora/Development/amplifyapp/ReactApp/src/pages/home.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport momentTimezonePlugin from '@fullcalendar/moment-timezone';\nimport Popup from '../components/Popup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [error, setError] = React.useState(false);\n  const [response, setResponse] = React.useState([]);\n  const [showPopup, setPopup] = React.useState(false);\n  const [clickedEvent, setClicked] = React.useState(null);\n\n  async function fetchData() {\n    try {\n      const guilds = ['AK', 'AS', 'Athene', 'IK', 'Inkubio', 'KIK', 'MK', 'PJK', 'PT', 'TIK', 'TF', 'VK', 'Prodeko', 'FK'];\n      await Promise.all([await fetch(\"/events\", {\n        method: 'POST',\n        body: JSON.stringify({\n          guildNames: guilds,\n          startDateTimeFrame: new Date(),\n          endDateTimeFrame: getNext4MonthsEvents()\n        }),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8'\n        }\n      }).then(res => res.json()).then(data => {\n        var dataString = JSON.stringify(data.response);\n        var result = JSON.parse(dataString);\n        setResponse(result);\n      })]);\n    } catch (error) {\n      console.log(error);\n      setError(true);\n    }\n  }\n\n  React.useEffect(() => {\n    fetchData();\n  }, []);\n\n  function getNext4MonthsEvents() {\n    var date = new Date();\n    date.setMonth(date.getMonth() + 4);\n    return date.toISOString();\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Oops.. something went wrong! \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }, this);\n  }\n\n  let popup = null;\n\n  if (showPopup) {\n    popup = /*#__PURE__*/_jsxDEV(Popup, {\n      message: clickedEvent,\n      closeMe: setPopup(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [response.length > 0 && response.map(list => /*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin, momentTimezonePlugin],\n      initialView: \"timeGridDay\",\n      contentHeight: \"auto\",\n      validRange: {\n        start: new Date(),\n        end: getNext4MonthsEvents()\n      },\n      eventTimeFormat: {\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: false\n      } //headerToolbar={false}\n      //dayHeaders={false}\n      ,\n      dayHeaderContent: Object.keys(list)[0],\n      dayHeaderClassNames: \"guild-name \" + Object.keys(list)[0],\n      slotMinTime: \"08:00:00\",\n      slotMaxTime: \"24:00:00\",\n      events: Object.values(list)[0] //eventColor=\"#CF9FFF\"\n      ,\n      eventColor: list.color,\n      nowIndicator: true,\n      eventClick: e => {\n        setClicked(e.event);\n        setPopup(true);\n        console.log(showPopup, clickedEvent);\n        var modal = document.getElementById(\"#schedule-edit\");\n        modal.modal();\n      },\n      timeZone: \"Europe/Helsinki\"\n    }, Object.keys(list)[0], false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"modal fade\",\n      id: \"schedule-edit\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              class: \"modal-title\",\n              children: \"Event\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"close\",\n              \"data-dismiss\": \"modal\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Schedule Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-danger\",\n              \"data-dismiss\": \"modal\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-success\",\n              children: \"Save Your Schedule\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Home, \"2QzNRn6Y7pC56iW/26sAW8DKe4E=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","momentTimezonePlugin","Popup","Home","error","setError","useState","response","setResponse","showPopup","setPopup","clickedEvent","setClicked","fetchData","guilds","Promise","all","fetch","method","body","JSON","stringify","guildNames","startDateTimeFrame","Date","endDateTimeFrame","getNext4MonthsEvents","headers","then","res","json","data","dataString","result","parse","console","log","useEffect","date","setMonth","getMonth","toISOString","popup","length","map","list","start","end","hour","minute","hour12","Object","keys","values","color","e","event","modal","document","getElementById"],"sources":["/Users/noora/Development/amplifyapp/ReactApp/src/pages/home.js"],"sourcesContent":["import React from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport momentTimezonePlugin from '@fullcalendar/moment-timezone';\nimport Popup from '../components/Popup';\n\n\nconst Home = () => {\n\n  const [error, setError] = React.useState(false);\n  const [response, setResponse] = React.useState([]);\n  const [showPopup, setPopup] = React.useState(false);\n  const [clickedEvent, setClicked] = React.useState(null);\n\n \n  async function fetchData() {\n    try {\n      const guilds = ['AK', 'AS', 'Athene', 'IK', 'Inkubio', 'KIK', 'MK', 'PJK', 'PT', 'TIK', 'TF', 'VK', 'Prodeko', 'FK'];\n      await Promise.all([\n       (\n         await fetch(\"/events\", {\n          method: 'POST',\n          body: JSON.stringify({\n            guildNames: guilds,\n            startDateTimeFrame : new Date(),\n            endDateTimeFrame : getNext4MonthsEvents()\n          }),\n          headers: {'Content-type': 'application/json; charset=UTF-8'},\n        }).then((res) => res.json())\n        .then((data) => {\n          var dataString = JSON.stringify(data.response);\n          var result = JSON.parse(dataString);    \n          setResponse(result);\n        }))\n     ]);\n   } catch (error) {\n     console.log(error);\n     setError(true);\n   }\n }\n \n React.useEffect(() => {\n   fetchData();\n }, []);\n\n function getNext4MonthsEvents(){\n  var date = new Date();\n  date.setMonth(date.getMonth() + 4);\n  return date.toISOString();\n}\n\n if(error) {\n  return (\n  <h1> Oops.. something went wrong! </h1>\n  )\n}\nlet popup = null;\n    if(showPopup) {\n      popup = (<Popup message={clickedEvent} closeMe={setPopup(false)}/>);\n    }\n\nreturn (  \n  \n  <div className='container'>\n    {response.length > 0 && response.map((list) =>  (\n      \n     <FullCalendar     \n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin, momentTimezonePlugin]}\n        initialView=\"timeGridDay\"\n        contentHeight={\"auto\"}\n        validRange={{\n        start: new Date(),\n        end: getNext4MonthsEvents()\n        }}\n        eventTimeFormat={{hour:'2-digit', minute: '2-digit', hour12: false}}\n        //headerToolbar={false}\n        //dayHeaders={false}\n        dayHeaderContent={Object.keys(list)[0]}\n        dayHeaderClassNames={\"guild-name \" + Object.keys(list)[0] }\n        slotMinTime={\"08:00:00\"}\n        slotMaxTime={\"24:00:00\"}\n        key={Object.keys(list)[0]}\n        events={Object.values(list)[0]}\n        //eventColor=\"#CF9FFF\"\n        eventColor={list.color}\n        nowIndicator\n        eventClick={(e) => {\n          setClicked(e.event);\n          setPopup(true);\n          console.log(showPopup, clickedEvent); \n          var modal = document.getElementById(\"#schedule-edit\");\n          modal.modal();\n          \n        }}\n        timeZone=\"Europe/Helsinki\"\n      />\n    \n    ))}\n    <div class=\"modal fade\" id=\"schedule-edit\">\n    <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n           \n            <div class=\"modal-header\">\n                <h4 class=\"modal-title\">Event</h4>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n            </div>\n         \n            <div class=\"modal-body\">\n                <form>\n                    <div class=\"form-group\">\n                        <label>Schedule Name:</label>\n                    </div>\n                </form>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\n                <button type=\"button\" class=\"btn btn-success\">Save Your Schedule</button>\n            </div>\n        </div>\n    </div>\n</div>\n    </div>      \n  );\n\n\n\n};\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}